{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- basic -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- mobile metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1" />
    <!-- site metas -->
    <title>Eflyer</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'css/bootstrap.min.css' %}"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'css/style.css' %}"
    />
    <!-- Responsive-->
    <link rel="stylesheet" href="{% static 'css/responsive.css' %}" />
    <!-- fevicon -->
    <link
      rel="icon"
      href="{% static 'images/fevicon.png' %}"
      type="image/gif"
    />
    <!-- Scrollbar Custom CSS -->
    <link
      rel="stylesheet"
      href="{% static 'css/jquery.mCustomScrollbar.min.css' %}"
    />
    <!-- Tweaks for older IEs-->
    <link
      rel="stylesheet"
      href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"
    />
    <!-- fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap"
      rel="stylesheet"
    />
    <!-- font awesome -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <!--  -->
    <!-- owl stylesheets -->
    <link
      href="https://fonts.googleapis.com/css?family=Great+Vibes|Poppins:400,700&display=swap&subset=latin-ext"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}" />
    <link rel="stylesoeet" href="css/owl.theme.default.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css"
      media="screen"
    />
    {% comment %} chatbot css {% endcomment %}
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'css/chatbot.css' %}"
    />
  </head>

  <body>
    <!-- banner bg main start -->
    <div class="banner_bg_main">
      {% include 'navbar.html' %}
      <!-- header top section start -->
      
      <!-- header top section start -->
      <!-- logo section start -->
      <!-- <div class="logo_section">
            <div class="container">
               <div class="row">
                  <div class="col-sm-12">
                     <div class="logo"><a href="index.html"><img src= "{% static 'images/logo.png' %}"></a></div>
                  </div>
               </div>
            </div>
         </div> -->
      <!-- logo section end -->
      <!-- header section start -->

    <!-- header section end -->

    <!-- chatbot -->

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        prefix: "tw-",
        darkMode: "class",
        corePlugins: { preflight: false },
      };
    </script>
    <script
      src="https://code.jquery.com/jquery-3.7.1.js"
      integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
      crossorigin="anonymous"
    ></script>
    <div class="py-3 invisible">a</div>
    <div
      id="chatbotHead"
      class="tw-text-3xl tw-font-bold"
      style="text-align: center"
    >
      Chatbot
    </div>
    <div class="container" id="chatbot" style="max-width: 800px">
      {% comment %} text is being written here {% endcomment %}
    </div>
    <div id="userInput">
      <div class="py-3 invisible">a</div>
      <input
        type="text"
        id="textInput"
        name="userMessage"
        placeholder="Type your message....."
      />
      <input type="submit" value="Send" id="buttonInput" />

      <div class="py-3 invisible">a</div>
    </div>
    <script>
      function getUserResponse() {
        var userText = $("#textInput").val();
        var userHTML =
          "<p class='userText'>User: <span>" + userText + "</span/></p>";
        $("#textInput").val("");
        $("#chatbot").append(userHTML);

        $.get("chatbotResponse/", { userMessage: userText }).done(function (
          data
        ) {
          var returnedMessage =
            "<p class= 'botText'>ChatBot: <span>" + data + "</span/></p>";
          $("#chatbot").append(returnedMessage);
        });
      }
      $("#buttonInput").click(function () {
        getUserResponse();
      });
    </script>
    <!-- footer section start -->
    <div class="footer_section layout_padding">
      <div class="container">
        <!-- <div class="footer_logo"><a href="index.html"><img src="{% static 'images/footer-logo.png' %}"></a></div> -->
        <div class="input_bt">
          <input
            type="text"
            class="mail_bt"
            placeholder="Your Email"
            name="Your Email"
          />
          <span class="subscribe_bt" id="basic-addon2"
            ><a href="#">Subscribe</a></span
          >
        </div>
        <div class="footer_menu">
          <ul>
            <li><a href="#">Best Sellers</a></li>
            <li><a href="#">Gift Ideas</a></li>
            <li><a href="#">New Releases</a></li>
            <li><a href="#">Today's Deals</a></li>
            <li><a href="#">Customer Service</a></li>
            <li><a href="">ChatBot</a></li>
          </ul>
        </div>
        <div class="location_main">
          Help Line Number : <a href="#">+1 1800 1200 1200</a>
        </div>
      </div>
    </div>
    <!-- footer section end -->
    <!-- copyright section start -->
    <div class="copyright_section">
      <div class="container">
        <p class="copyright_text">
          Â© 2020 All Rights Reserved. Design by
          <a href="https://html.design">Free html Templates</a>
        </p>
      </div>
    </div>
    <!-- copyright section end -->
    <!-- Javascript files-->
    <script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'js/jquery-3.0.0.min.js' %}"></script>
    <script src="{% static 'js/plugin.js' %}"></script>
    <!-- sidebar -->
    <script src="{% static 'js/jquery.mCustomScrollbar.concat.min.js' %}"></script>
    <script src="{% static 'js/custom.js' %}"></script>
    <script>
      function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
      }

      function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
      }

      function initTheme() {
        let dark = localStorage.getItem("dark");
        if (dark === "true") {
          document.body.classList.add("tw-dark");
        } else {
          document.body.classList.remove("tw-dark");
        }
      }
      initTheme();
      function toggleDarkMode() {
        let dark = localStorage.getItem("dark");
        if (dark === "true") {
          document.body.classList.remove("tw-dark");
          localStorage.setItem("dark", "false");
        } else {
          document.body.classList.add("tw-dark");
          localStorage.setItem("dark", "true");
        }
      }
      var allBtns = document.querySelectorAll(".btn-holder");

      for (i = 0; i < allBtns.length; i++) {
        var btn = allBtns[i];

        btn.addEventListener("click", function () {
          var allNodes = btn.children;

          btn.querySelector("input").checked = true;
          for (j = 0; j < allNodes.length; j++) {
            var node = allNodes[j];
            var isActive;

            if (node.classList.contains("btn-circle")) {
              if (!node.classList.contains("active")) {
                node.classList.add("active");
                isActive = true;
              } else {
                node.classList.remove("active");
                isActive = false;
              }
            }

            // check for check box and change it's state
            if (node.classList.contains("checkbox")) {
              if (isActive) {
                node.checked = true;
              } else {
                node.checked = false;
              }
            }
          }
        });
      }
      var allBtns = document.querySelectorAll(".btn-holder");
      for (i = 0; i < allBtns.length; i++) {
        var btn = allBtns[i];
        btn.addEventListener("click", function () {
          var allNodes = btn.children;
          for (j = 0; j < allNodes.length; j++) {
            var node = allNodes[j];
            var isActive;
            if (node.classList.contains("btn-circle")) {
              if (!node.classList.contains("active")) {
                node.classList.add("active");
                isActive = true;
              } else {
                node.classList.remove("active");
                isActive = false;
              }
            }
            if (node.classList.contains("checkbox")) {
              if (isActive) {
                node.checked = true;
              } else {
                node.checked = false;
              }
            }
          }
        });
      }
    </script>
  </body>
</html>
